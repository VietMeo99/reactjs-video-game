(this["webpackJsonpvideo-game"]=this["webpackJsonpvideo-game"]||[]).push([[1],{125:function(e,t,n){},126:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(35),c=n.n(r);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var s=n(3),i=n(54),o=n(12),u=n(27),l=n(53),d=n(2),b=function(e){var t=e.children;return Object(d.jsx)("div",{className:"main",children:Object(d.jsx)(a.Suspense,{fallback:Object(d.jsx)(l.e,{loading:!0,className:"u-text-center"}),children:t})})},m=n(30),j=function(e){var t=e.component,n=e.layout,a=Object(m.a)(e,["component","layout"]);return Object(d.jsx)(o.b,Object(s.a)(Object(s.a)({},a),{},{render:function(e){return Object(d.jsx)(n,{children:Object(d.jsx)(t,Object(s.a)({},e))})}}))},f=n(8),p=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,166))})),h=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(4)]).then(n.bind(null,167))})),g=Object(a.lazy)((function(){return n.e(7).then(n.bind(null,162))})),O=Object(a.lazy)((function(){return n.e(9).then(n.bind(null,163))})),v=Object(a.lazy)((function(){return n.e(6).then(n.bind(null,168))})),x=Object(a.lazy)((function(){return n.e(10).then(n.bind(null,164))})),y=Object(a.lazy)((function(){return Promise.all([n.e(11),n.e(8)]).then(n.bind(null,165))})),_=[{path:f.e,exact:!0,layout:b,component:p},{path:f.b,exact:!0,layout:b,component:p},{path:f.c,exact:!0,layout:b,component:h},{path:f.i,exact:!0,layout:b,component:v},{path:"/settings",exact:!0,layout:b,component:x},{path:"/login",exact:!0,layout:b,component:g},{path:"/signup",exact:!0,layout:b,component:O},{path:"*",layout:b,component:y}],w=n(75),N=n(91),k=n(74),S=n(97),E=Object(i.b)((function(e){return Object(s.a)(Object(s.a)({},Object(S.h)(e)),{},{logOut:k.e})}),{changeRoute:w.a})(l.d),U=n(9),P=n(49),R=(n(124),[f.e,f.b,f.c,f.i]);var C=Object(i.b)((function(e){return Object(s.a)({},e.app)}),{initRouter:w.b,closeFullVideo:N.a,windowResize:N.c,authen:k.a})((function(e){var t=e.initRouter,n=e.closeFullVideo,r=e.videoId,c=e.windowResize,s=e.windowSize,i=e.authen;Object(a.useEffect)((function(){return t(R),i()}),[t,i]),Object(a.useEffect)((function(){var e=null,t=function(){var e=window.innerWidth;e<U.g.tablet&&s!==U.g.tablet?c(U.g.tablet):e>=U.g.tablet&&e<U.g.laptop&&s!==U.g.laptop?c(U.g.laptop):e>=U.g.laptop&&e<U.g.desktop&&s!==U.g.desktop?c(U.g.desktop):e>=U.g.desktop&&s!==U.g.all&&c(U.g.all)},n=function(){clearTimeout(e),e=setTimeout(t,U.f)};return n(),window.addEventListener("resize",n),function(){window.removeEventListener("resize",n)}}),[s,c]);var b=Object(a.useCallback)((function(e){var t=null;return e.length>0&&(t=e.map((function(e,t){var n=e.path,a=e.exact,r=e.layout,c=e.component;return Object(d.jsx)(j,{path:n,exact:a,layout:r,component:c},t)}))),Object(d.jsx)(o.d,{children:t})}),[]);return Object(d.jsxs)(u.a,{basename:"/",children:[Object(d.jsx)(P.a,{style:{fontSize:"1.6rem"}}),Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)(E,{}),b(_),Object(d.jsx)(l.a,{onClose:n,videoId:r})]})]})})),I=n(41),T=n(107),A=n(108),L=n(33),F=n(68),z=n(5),V={loading:!1,nextUrl:null,games:[]};function G(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case z.d:return Object(s.a)(Object(s.a)({},e),{},{loading:!0});case z.e:return Object(s.a)(Object(s.a)({},e),{},{loading:!1,nextUrl:a.nextUrl,games:[].concat(Object(F.a)(e.games),Object(F.a)(a.fetchedData))});case z.f:return Object(s.a)(Object(s.a)({},e),{},{screenshots:Object(F.a)(a.screenshots)});default:return e}}var q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case z.d:case z.e:case z.f:return Object(s.a)(Object(s.a)({},e),{},Object(L.a)({},a.collectionKey,G(e[a.collectionKey],{type:n,payload:a})));default:return e}},D={route:{keys:{},options:{},path:""}};var M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case z.a:return Object(s.a)(Object(s.a)({},e),{},{route:a.route});default:return e}},H={videoId:"",windowSize:U.g.all};var W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case z.k:return Object(s.a)(Object(s.a)({},e),{},{videoId:a.videoId});case z.c:return Object(s.a)(Object(s.a)({},e),{},{videoId:""});case z.o:return Object(s.a)(Object(s.a)({},e),{},{windowSize:a.size});default:return e}},K={currentUser:null,loadedAuth:!1,likes:{}};var B={loadingUserProfile:!0,visitedUserProfile:null};var Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case z.h:return Object(s.a)({},B);case z.i:return Object(s.a)(Object(s.a)({},e),{},{loadingUserProfile:!1,visitedUserProfile:a.user});default:return e}},J=Object(I.combineReducers)({games:q,router:M,app:W,user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case z.j:return Object(s.a)(Object(s.a)({},e),{},{currentUser:a.user,loadedAuth:!0});case z.b:return Object(s.a)(Object(s.a)({},K),{},{loadedAuth:!0});case z.n:return Object(s.a)(Object(s.a)({},e),{},{currentUser:Object(s.a)(Object(s.a)({},e.currentUser),{},{displayName:a.username})});case z.g:return Object(s.a)(Object(s.a)({},e),{},{likes:Object(s.a)({},a.likes)});case z.l:return Object(s.a)(Object(s.a)({},e),{},{likes:Object(s.a)(Object(s.a)({},e.likes),{},Object(L.a)({},a.id,a.liked))});case z.m:return Object(s.a)(Object(s.a)({},e),{},{currentUser:Object(s.a)(Object(s.a)({},e.currentUser),a.props)});default:return e}},profile:Y}),Q=[T.a],Z=Object(I.createStore)(J,Object(A.composeWithDevTools)(I.applyMiddleware.apply(void 0,Q)));n(125);c.a.render(Object(d.jsx)(i.a,{store:Z,children:Object(d.jsx)(C,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},5:function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"e",(function(){return r})),n.d(t,"a",(function(){return c})),n.d(t,"f",(function(){return s})),n.d(t,"k",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"o",(function(){return u})),n.d(t,"j",(function(){return l})),n.d(t,"b",(function(){return d})),n.d(t,"n",(function(){return b})),n.d(t,"g",(function(){return m})),n.d(t,"l",(function(){return j})),n.d(t,"h",(function(){return f})),n.d(t,"i",(function(){return p})),n.d(t,"m",(function(){return h}));var a="FETCH_GAMES_REQUEST",r="FETCH_GAMES_SUCCESS",c="CHANGE_ROUTE",s="FETCH_GAME_SCREENSHOTS_SUCCESS",i="PLAY_FULL_VIDEO",o="CLOSE_FULL_VIDEO",u="WINDOW_RESIZE",l="LOGIN_SUCCESS",d="CLEAR_USER",b="UPDATE_USER_USERNAME",m="FETCH_USER_LIKES_SUCCESS",j="TOGGLE_LIKE",f="FETCH_VISITED_USER_REQUEST",p="FETCH_VISITED_USER_SUCCESS",h="UPDATE_USER_PROFILE_SUCCESS"},53:function(e,t,n){"use strict";n.d(t,"d",(function(){return w})),n.d(t,"c",(function(){return B})),n.d(t,"b",(function(){return te})),n.d(t,"e",(function(){return R})),n.d(t,"a",(function(){return ae})),n.d(t,"f",(function(){return de})),n.d(t,"g",(function(){return je})),n.d(t,"h",(function(){return Oe})),n.d(t,"i",(function(){return Re}));var a=n(7),r=n.n(a),c=n(14),s=n(1),i=n.n(s),o=n(24),u=Object(o.b)();function l(e){if(e<0)return"";var t="-metacritic-";return t+=e>=75?"green":e>=50?"yellow":e>=25?"blue":"red"}function d(e){e.preventDefault(),e.stopPropagation()}var b=n(8);var m=n(20),j=new Map([["pc",m.g],["playstation",m.e],["xbox",m.h],["ios",m.b],["android",m.a],["linux",m.c]]);var f=n(78),p=n(3),h=n(30),g=n(27),O=n(70),v=n(2),x=function(e){var t=e.children,n=e.className,a=e.active,r=e.path,c=e.options,s=e.keys,i=e.changeRoute,o=e.onClick,u=e.style,l=Object(h.a)(e,["children","className","active","path","options","keys","changeRoute","onClick","style"]),b={path:r,keys:s,options:c};return Object(v.jsx)(g.b,Object(p.a)(Object(p.a)({style:Object(p.a)(Object(p.a)({},u),{},{textDecoration:"none"})},l),{},{to:Object(O.a)(b),onClick:a?d:function(){o(),i(b)},className:n,children:t}))};x.defaultProps={active:!1,className:"",onClick:function(){},path:"",keys:{},options:{}};var y=i.a.memo(x),_=function(e){var t=e.changeRoute,n=e.logOut,a=e.currentUser,s=a||{},o=s.displayName,l=s.photoURL,d=function(){var e=Object(c.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(v.jsxs)("header",{className:"header",children:[Object(v.jsx)("h1",{className:"header__logo",children:Object(v.jsx)(y,{path:b.b,changeRoute:t,children:"RAWGC"})}),Object(v.jsxs)("div",{className:"search-bar",children:[Object(v.jsx)("button",{className:"search-bar__button",children:Object(v.jsx)(m.f,{className:"search-bar__icon"})}),Object(v.jsx)("input",{type:"text",className:"search-bar__input",placeholder:"Search for name",onKeyPress:function(e){if(13===(e.which||e.keyCode)){var n=e.target.value;""!==n&&(t({path:"games",keys:{},options:{query:n}}),u.push("/games?query=".concat(n)))}}})]}),a?Object(v.jsxs)("div",{className:"header__user",children:[Object(v.jsx)("div",{className:"header__user__info",children:Object(v.jsxs)(y,{path:b.i,keys:{username:o||"#"},changeRoute:t,className:"btn",style:{display:"flex",alignItems:"center"},children:[Object(v.jsx)("div",{className:"header__user__avatar",style:{backgroundImage:"url(".concat(l,")")},children:!l&&o?o[0].toUpperCase():""}),Object(v.jsx)("span",{className:"header__user__username",children:o})]})}),Object(v.jsx)(f.a,{onClick:d,title:"Logout",className:"icon icon--logout",cursor:"pointer"})]}):Object(v.jsxs)(i.a.Fragment,{children:[Object(v.jsx)(y,{path:"/login",changeRoute:t,className:"btn u-uppercase",style:{marginRight:"1rem"},children:"Login"}),Object(v.jsx)(y,{path:"/signup",changeRoute:t,className:"btn u-uppercase",children:"Sign up"})]})]})};_.defaultProps={};var w=i.a.memo(_),N=n(6),k=function(e){var t=e.backgroundImage,n=e.hasVideo,a=e.className,r=e.children,c=Object(s.useState)(!1),i=Object(N.a)(c,2),o=i[0],u=i[1],l=Object(s.useRef)(null);return Object(s.useEffect)((function(){var e=function(){if(!o&&l.current&&function(e){var t=e.getBoundingClientRect(),n=window.innerHeight||document.documentElement.clientHeight;return t.top>=0&&t.left>=0&&t.top<=n+150}(l.current)){var e=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&!arguments[1]?b.g.NO_VIDEO:b.g.VIDEO;return e?e.replace(b.d,t):""}(t,n);l.current.style.backgroundImage="url(".concat(e,")"),u(!0)}};return e(),window.addEventListener("scroll",e),function(){window.removeEventListener("scroll",e)}}),[o,t,n]),Object(v.jsx)("div",{ref:l,className:"background ".concat(a),children:r})};k.defaultProps={className:"",backgroundImage:""};var S=i.a.memo(k),E=n(32),U=n.n(E),P=function(e){var t=e.loading,n=e.className,a=e.style;return t?Object(v.jsx)("div",{className:"loading ".concat(n),style:a,children:Object(v.jsxs)("div",{className:"lds-spinner",children:[Object(v.jsx)("div",{}),Object(v.jsx)("div",{}),Object(v.jsx)("div",{}),Object(v.jsx)("div",{}),Object(v.jsx)("div",{}),Object(v.jsx)("div",{}),Object(v.jsx)("div",{}),Object(v.jsx)("div",{}),Object(v.jsx)("div",{}),Object(v.jsx)("div",{}),Object(v.jsx)("div",{}),Object(v.jsx)("div",{})]})}):null};P.defaultProps={className:"",style:{}};var R=i.a.memo(P),C={src:U.a.string,playFullVideo:U.a.func.isRequired},I=function(e){var t=e.src,n=e.videoId,a=e.playFullVideo,r=Object(s.useState)(!0),c=Object(N.a)(r,2),i=c[0],o=c[1],u=Object(s.useRef)(null);Object(s.useEffect)((function(){u.current.volume=0}),[]);return Object(v.jsxs)("div",{className:"video",children:[Object(v.jsx)(R,{loading:i,className:"video__loading"}),Object(v.jsx)("video",{ref:u,onLoadedData:function(){o(!1),u.current.play()},className:"video__frame ".concat(i?"":"video__frame--play"),src:t,loop:!0}),Object(v.jsxs)("button",{className:"video__full-frame",onClick:a.bind(undefined,n),children:[Object(v.jsx)(m.d,{className:"icon"}),Object(v.jsx)("span",{children:"Full video"})]})]})};I.propType=C,I.defaultProps={src:""};var T=i.a.memo(I),A=n(19),L=function(e){var t=e.game,n=e.changeRoute,a=e.playFullVideo,r=e.toggleLike,c=e.liked,i=e.isAuthenticated,o=Object(s.useState)(!1),d=Object(N.a)(o,2),f=d[0],p=d[1],h=Object(s.useState)(!1),g=Object(N.a)(h,2),O=g[0],x=g[1],_=t.id,w=t.name,k=t.slug,E=t.backgroundImage,U=t.metacritic,P=t.clip,R=t.parentPlatforms,C=!!P&&!!P.clip,I=C&&O;return Object(v.jsxs)("div",{className:"game-item",onMouseEnter:function(e){x(!0)},onMouseLeave:function(e){x(!1)},children:[Object(v.jsx)(S,{backgroundImage:E,hasVideo:C,children:C&&Object(v.jsx)(m.d,{className:"icon icon--play"})}),I&&Object(v.jsx)(T,{src:P.clip,videoId:P.video,playFullVideo:a}),Object(v.jsxs)("div",{className:"game-item__info",children:[Object(v.jsxs)("div",{className:"game-item__info__top",children:[Object(v.jsx)("div",{className:"game-item__platforms",children:R.map((function(e){var t=e.platform,n=function(e){return j.get(e)}(t.slug);return n?Object(v.jsx)(n,{style:{marginRight:"0.6rem"},className:"icon"},t.id):null}))}),Object(v.jsx)("span",{className:"game-item__meta ".concat(l(U)),children:U||0})]}),Object(v.jsxs)("div",{className:"game-item__info__bottom",children:[Object(v.jsx)(y,{className:"heading-1 game-item__name",title:w,active:!1,path:b.c,keys:{slug:k},changeRoute:n,children:w}),f?Object(v.jsx)(A.a,{className:"icon icon--loading"}):Object(v.jsx)(A.c,{onClick:function(e){i?(p(!0),r(_,c?null:t,p)):(n({path:"/login",keys:{},options:{}}),u.push("/login"))},className:"icon icon--like ".concat(c?"icon--liked":"")})]})]})]})};L.defaultProps={game:{clip:{clip:"",video:""},parentPlatforms:[]}};var F=i.a.memo(L),z=n(9);function V(e){switch(e){case z.g.all:return 4;case z.g.desktop:return 3;case z.g.laptop:return 2;case z.g.tablet:default:return 1}}var G=function(e){var t=e.games,n=e.changeRoute,a=e.playFullVideo,r=e.windowSize,c=e.toggleLike,i=e.likes,o=e.isAuthenticated,u=Object(s.useState)([]),l=Object(N.a)(u,2),d=l[0],b=l[1],m=Object(s.useState)(V(r)),j=Object(N.a)(m,2),f=j[0],p=j[1];return Object(s.useEffect)((function(){for(var e=0,n=[],a=0;a<f;a++)n.push([]);for(var r=0;r<t.length;r++)n[e].push(t[r]),++e===f&&(e=0);b(n)}),[t,f]),Object(s.useEffect)((function(){p(V(r))}),[r]),Object(v.jsx)("div",{className:"games-rendered",style:{gridTemplateColumns:"repeat(".concat(f,", minmax(30rem, 50rem)")},children:d.map((function(e,t){return Object(v.jsx)("div",{className:"col",children:e.map((function(e){return Object(v.jsx)(F,{game:e,changeRoute:n,playFullVideo:a,toggleLike:c,liked:!!i[e.id],isAuthenticated:o},e.id)}))},"games-"+t)}))})};G.defaultProps={games:[]};var q=i.a.memo(G),D=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=function(n){var a=n.fetchGamesNext,r=n.gamesNextUrl,c=n.collectionKey,i=n.className,o=Object(h.a)(n,["fetchGamesNext","gamesNextUrl","collectionKey","className"]);return Object(s.useEffect)((function(){var e=function(){window.innerHeight+window.scrollY>=document.body.offsetHeight-200&&setTimeout((function(){return a(c,r)}),t)};return window.addEventListener("scroll",e),function(){window.removeEventListener("scroll",e)}}),[a,c,r]),Object(v.jsx)("div",{className:i,children:Object(v.jsx)(e,Object(p.a)({collectionKey:c},o))})};return n};D.defaultProps={className:""};var M=D,H=function(e){var t=e.genres,n=e.genre,a=e.changeRoute,r=Object(s.useState)(!1),c=Object(N.a)(r,2),i=c[0],o=c[1],u=function(){o((function(e){return!e}))};return Object(v.jsxs)("nav",{className:"header-genres",children:[Object(v.jsxs)("div",{className:"header-genres__expanded",children:[Object(v.jsx)("span",{className:"header-genres__current-genre",children:n||"Genre"}),Object(v.jsx)("span",{className:"header-genres__expanded-icon",onClick:u,children:Object(v.jsx)(f.b,{style:{transition:"0.2s",transform:"rotate(".concat(i?"180deg":"0deg",")")}})})]}),Object(v.jsx)("div",{className:"header-genres__menu ".concat(i?"header-genres__menu--expanded":""),children:t.map((function(e){return Object(v.jsx)(y,Object(p.a)(Object(p.a)({className:"link ".concat(e.key===n?"link--active":""),onClick:u,path:b.b,active:e.key===n,options:{genre:e.key},changeRoute:a},e),{},{children:e.label}),e.key)}))})]})};H.defaultProps={};var W=i.a.memo(H),K=function(e){var t=e.loading,n=e.games,a=e.genres,r=e.genre,c=e.changeRoute,i=e.fetchGamesIfNeeded,o=e.collectionKey,u=e.gamesUrl,l=e.playFullVideo,d=e.windowSize,b=e.toggleLike,m=e.likes,j=e.isAuthenticated;return Object(s.useEffect)((function(){i(o,u)}),[i,o,u]),Object(v.jsxs)("div",{style:{margin:"2rem 0 12rem 0"},children:[Object(v.jsx)(W,{genres:a,genre:r,changeRoute:c}),Object(v.jsx)(q,{games:n,changeRoute:c,playFullVideo:l,windowSize:d,toggleLike:b,likes:m,isAuthenticated:j}),Object(v.jsx)(R,{loading:t,style:{marginTop:"2rem"},className:"u-text-center"})]})};K.defaultProps={};var B=M(K),Y=n(73),J=n.n(Y),Q=n(101),Z=n.n(Q),$=n(102),X=n.n($);J.a.extend(X.a),J.a.extend(Z.a);var ee=function(e){var t=e.fetchGameIfNeeded,n=e.collectionKey,a=e.slug,r=e.game,c=e.screenshots,o=e.playFullVideo,j=e.changeRoute,f=e.isAuthenticated,p=e.likes,h=e.toggleLike,g=Object(s.useState)(!1),O=Object(N.a)(g,2),x=O[0],_=O[1],w=Object(s.useState)(!0),k=Object(N.a)(w,2),S=k[0],E=k[1];if(Object(s.useEffect)((function(){t(a,n)}),[t,a,n]),!r)return Object(v.jsx)(R,{loading:!0,className:"u-text-center"});var U=r.id,P=r.backgroundImage,C=r.name,I=r.released,T=r.metacritic,L=r.genres,F=r.website,z=r.descriptionRaw,V=r.alternativeNames,G=r.clip,q=r.tags,D=P&&P.replace(b.d,b.f),M=P&&P.replace(b.d,b.h),H=z.length>220&&S,W=H?"".concat(z.substring(0,220),"..."):z,K=G&&G.video,B="".concat(J()(I).format("ll")," (").concat(J()(I).fromNow(),")"),Y=p[U];return Object(v.jsxs)("div",{className:"game",children:[Object(v.jsx)("div",{className:"deep",children:Object(v.jsx)("div",{className:"game__back-art",style:{backgroundImage:"linear-gradient(rgba(15, 15, 15, 0.7),\n            rgb(21, 21, 21)), linear-gradient(rgba(21, 21, 21, 0.8),\n            rgba(21, 21, 21, 0.5)), url(".concat(D,")"),zIndex:"1"}})}),Object(v.jsxs)("div",{className:"game__main",children:[Object(v.jsxs)("div",{children:[Object(v.jsx)("div",{className:"game__art",style:{backgroundImage:"url(".concat(M,")")}}),K&&Object(v.jsxs)("li",{className:"game__trailer",onClick:o.bind(undefined,K),children:[Object(v.jsx)(m.d,{className:"icon"}),Object(v.jsx)("span",{children:"Play trailer"})]}),Object(v.jsxs)("ul",{className:"game__actions",children:[Object(v.jsx)("li",{onClick:x?d:function(){f?(_(!0),h(U,Y?null:r,_)):(j({path:"/login",keys:{},options:{}}),u.push("/login"))},className:"btn game__action game__action--like ".concat(Y?"game__action--liked":""),children:x?Object(v.jsx)(A.a,{className:"icon icon--loading",style:{margin:0}}):Object(v.jsxs)(i.a.Fragment,{children:[Object(v.jsx)(A.c,{className:"icon"}),Object(v.jsx)("span",{children:"Like"})]})}),Object(v.jsxs)("li",{className:"btn game__action",children:[Object(v.jsx)(A.b,{className:"icon"}),Object(v.jsx)("span",{onClick:function(){return alert("Not supported yet!")},children:"Collection"})]})]})]}),Object(v.jsxs)("div",{className:"game__content",children:[Object(v.jsx)("h2",{className:"game__name",children:C}),Object(v.jsx)("span",{className:"game__alternative-names",children:V.join(", ")}),Object(v.jsxs)("h3",{className:"heading-3",children:["Released Date ",Object(v.jsxs)("p",{className:"game__released",children:[" ",B]})]}),Object(v.jsx)("span",{className:"game__meta ".concat(l(T)),children:T||0}),Object(v.jsxs)("h3",{className:"heading-3",children:["Genres",Object(v.jsx)("div",{className:"game__genres",children:L.map((function(e,t){return Object(v.jsxs)(i.a.Fragment,{children:[0!==t&&", ",Object(v.jsx)(y,{className:"game__genre",active:!1,path:b.b,options:{genre:e.slug},changeRoute:j,children:e.name})]},e.id)}))})]}),Object(v.jsxs)("h3",{className:"heading-3",children:["Homepage",Object(v.jsx)("p",{className:"game__homepage",children:Object(v.jsx)("a",{href:F,target:"blank",children:F})})]}),Object(v.jsxs)("h3",{className:"heading-3",children:["Description"," ",Object(v.jsxs)("p",{className:"game__description",children:[W,H&&Object(v.jsx)("span",{className:"heading-3 game__show-more",onClick:function(){E((function(e){return!e}))},children:"read more"})]})]})]})]}),Object(v.jsxs)("div",{className:"game__sub",children:[Object(v.jsx)("div",{className:"left",children:Object(v.jsx)("div",{className:"game__images",children:c.map((function(e){return Object(v.jsx)("img",{className:"game__image",alt:e.id,src:e.image.replace(b.d,b.h)},e.id)}))})}),Object(v.jsx)("div",{className:"right",children:Object(v.jsxs)("h3",{className:"heading-3",children:["Tags",Object(v.jsx)("div",{className:"game__tags",children:q.map((function(e){return Object(v.jsx)(y,{className:"game__tag",active:!1,path:b.b,options:{tag:e.slug},changeRoute:j,children:e.name},e.id)}))})]})})]}),Object(v.jsx)("div",{className:"footer",children:"Power by RAWG"})]})};ee.defaultProps={screenshots:[]};var te=ee,ne=function(e){var t=e.onClose,n=e.videoId;return n?Object(v.jsxs)("div",{className:"full-video",children:[Object(v.jsx)("span",{className:"full-video__close",onClick:t,children:"\xd7"}),Object(v.jsx)("div",{className:"full-video__frame",children:Object(v.jsx)("iframe",{width:"100%",height:"100%",frameBorder:"0",allowFullScreen:!0,allow:"accelerometer; autoplay; encrypted-media; picture-in-picture",title:"Youtube video player",src:"https://www.youtube.com/embed/".concat(n,"?autoplay=1")})})]}):null};ne.defaultProps={};var ae=i.a.memo(ne),re=n(21),ce=n(11),se=function(e){var t=e.placeholder,n=e.className,a=e.style,r=Object(h.a)(e,["placeholder","className","style"]),c=Object(re.d)(r),s=Object(N.a)(c,2),i=s[0],o=s[1],u=o.error&&o.touched?o.error:"";return Object(v.jsxs)("div",{children:[Object(v.jsx)("input",Object(p.a)(Object(p.a)({className:n,style:Object(p.a)({border:"".concat(u?"1px solid #f00":"")},a),placeholder:t},i),r)),u&&Object(v.jsx)("div",{style:{color:"#f00",fontWeight:"100",fontSize:"1.4rem",marginTop:"-1.2rem",marginBottom:"1.2rem"},children:u})]})},ie=n(12),oe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",n=function(n){var a=n.currentUser,r=n.loadedAuth,c=Object(h.a)(n,["currentUser","loadedAuth"]);return r?r&&a?Object(v.jsx)(ie.a,{to:t}):Object(v.jsx)(e,Object(p.a)({currentUser:a,loadedAuth:r},c)):Object(v.jsx)(R,{loading:!0,className:"u-text-center"})};return n},ue={email:"",password:"",failed:""},le=ce.b({email:ce.d().required("This field is required"),password:ce.d().required("This field is required")}),de=oe((function(e){var t=e.login,n=function(){var e=Object(c.a)(r.a.mark((function e(n,a){var c,s,i,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=a.setSubmitting,s=a.setFieldError,i=n.email,o=n.password,c(!0),e.prev=3,e.next=6,t(i,o);case 6:e.next=13;break;case 8:e.prev=8,e.t0=e.catch(3),console.log(e.t0),s("failed","Unable to log in with provided credentials"),c(!1);case 13:case"end":return e.stop()}}),e,null,[[3,8]])})));return function(t,n){return e.apply(this,arguments)}}();return Object(v.jsxs)("div",{className:"form",children:[Object(v.jsx)("h2",{className:"heading-1",children:"LOGIN"}),Object(v.jsx)(re.c,{initialValues:ue,validationSchema:le,onSubmit:n,children:function(e){var t=e.isSubmitting,n=e.errors;return Object(v.jsxs)(re.b,{className:"form__form",children:[Object(v.jsx)(se,{type:"email",name:"email",className:"form__input",placeholder:"Email"}),Object(v.jsx)(se,{type:"password",name:"password",className:"form__input",placeholder:"Password"}),n&&n.failed&&Object(v.jsx)("div",{style:{color:"#f00",fontSize:"1.4rem",fontWeight:"100",marginBottom:"1rem"},children:n.failed}),Object(v.jsxs)("button",{type:t?"button":"submit",className:"btn form__submit",children:[t&&Object(v.jsx)(A.a,{className:"icon icon--loading"}),"LOGIN"]})]})}}),Object(v.jsx)(g.b,{style:{color:"#fff"},to:"/signup",children:"Don't have an account? Sign up."}),Object(v.jsx)(g.b,{style:{color:"#fff"},to:"/password-recovery",children:"Forgot your password?"})]})})),be={email:"",username:"",password:"",passwordConfirmation:""},me=ce.b({email:ce.d().required("This field is required").email("This field must be email"),username:ce.d().required("This field is required").min(6,"This field min 6 characters").max(15,"This field max 15 characters"),password:ce.d().required("This field is required").min(6,"This field min 6 characters"),passwordConfirmation:ce.d().required("This field is required").when("password",{is:function(e){return!!(e&&e.length>0)},then:ce.d().oneOf([ce.c("password")],"Both password need to be the same")})}),je=oe((function(e){var t=e.signUp,n=function(){var e=Object(c.a)(r.a.mark((function e(n,a){var c,s,i,o,u,l,d,b,m,j;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=a.setSubmitting,s=a.setFieldError,i=n.email,o=n.password,u=n.username,c(!0),e.prev=3,e.next=6,t(i,u,o);case 6:(l=e.sent)&&(d=l.split("-"),b=Object(N.a)(d,2),m=b[0],j=b[1],s(m,j)),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(3),console.error(e.t0.code),console.error(e.t0.message),c(!1);case 15:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t,n){return e.apply(this,arguments)}}();return Object(v.jsxs)("div",{className:"form",children:[Object(v.jsx)("h2",{className:"heading-1",children:"SIGN UP"}),Object(v.jsx)(re.c,{initialValues:be,validationSchema:me,onSubmit:n,children:function(e){var t=e.isSubmitting;return Object(v.jsxs)(re.b,{className:"form__form",children:[Object(v.jsx)(se,{type:"email",name:"email",className:"form__input",placeholder:"Email"}),Object(v.jsx)(se,{type:"text",name:"username",className:"form__input",placeholder:"Username"}),Object(v.jsx)(se,{type:"password",name:"password",className:"form__input",placeholder:"Password"}),Object(v.jsx)(se,{type:"password",name:"passwordConfirmation",className:"form__input",placeholder:"Confirm password"}),Object(v.jsxs)("button",{type:t?"button":"submit",className:"btn form__submit",children:[t&&Object(v.jsx)(A.a,{className:"icon icon--loading"}),"SIGN UP"]})]})}}),Object(v.jsx)(g.b,{style:{color:"#fff"},to:"/login",children:"Already have an account? Login."})]})})),fe=n(68),pe=function(e){var t=e.uid,n=e.fetchUserLikes,a=e.changeRoute,i=e.playFullVideo,o=e.windowSize,u=e.toggleLike,l=e.isAuthenticated,d=e.likes,b=Object(s.useState)([]),m=Object(N.a)(b,2),j=m[0],f=m[1],p=Object(s.useState)(!1),h=Object(N.a)(p,2),g=h[0],O=h[1];return Object(s.useEffect)((function(){(function(){var e=Object(c.a)(r.a.mark((function e(){var a,c,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),e.next=3,n(t);case 3:a=e.sent,(c=a.data())&&(s=Object.keys(c).filter((function(e){return!!c[e]})).reduce((function(e,t){return[].concat(Object(fe.a)(e),[c[t]])}),[]),f(s)),O(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t,n]),g?Object(v.jsx)(R,{loading:!0,className:"u-text-center"}):Object(v.jsx)("div",{className:"user-likes",children:Object(v.jsx)(q,{games:j,likes:d,changeRoute:a,playFullVideo:i,windowSize:o,toggleLike:u,isAuthenticated:l})})};pe.defaultProps={};var he=pe,ge=function(e){var t=e.loadingUserProfile,n=e.visitedUserProfile,a=e.username,r=e.fetchUser,c=e.isCurrentUser,i=e.changeRoute,o=e.playFullVideo,u=e.windowSize,l=e.toggleLike,d=e.isAuthenticated,b=e.fetchUserLikes,m=e.likes,j=Object(s.useState)(""),f=Object(N.a)(j,2),p=f[0],h=f[1],g=n||{},O=g.uid,x=g.displayName,_=g.photoURL;Object(s.useEffect)((function(){h(""),a&&r(a)}),[r,a]);var w=Object(s.useMemo)((function(){switch(p){case"likes":return Object(v.jsx)(he,{uid:O,fetchUserLikes:b,changeRoute:i,playFullVideo:o,windowSize:u,toggleLike:l,isAuthenticated:d,likes:m});default:return null}}),[p,O,b,i,o,u,l,d,m]);return t?Object(v.jsx)(R,{loading:!0,className:"u-text-center"}):t||n?Object(v.jsxs)("div",{className:"user",children:[Object(v.jsxs)("div",{className:"user__top",children:[Object(v.jsxs)("div",{className:"user__info",children:[Object(v.jsx)("span",{className:"user__username",children:x}),Object(v.jsx)("div",{className:"user__photo",style:{backgroundImage:"url(".concat(_,")")},children:!_&&x[0].toUpperCase()})]}),c&&Object(v.jsx)(y,{path:"/settings",changeRoute:i,className:"btn u-uppercase user__settings",children:"Settings"})]}),Object(v.jsx)("div",{className:"user__middle",children:Object(v.jsx)("div",{className:"user__tabs",children:z.e.map((function(e){var t,n=e.key,a=e.label;return Object(v.jsx)("span",{onClick:(t=n,function(){h(t)}),className:"user__tab ".concat(p===n?"user__tab--active":""),children:a},n)}))})}),Object(v.jsx)("div",{className:"user__bottom",children:w})]}):Object(v.jsx)("div",{style:{fontSize:"4rem"},className:"u-text-center",children:"User is not found"})};ge.defaultProps={};var Oe=ge,ve=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/login",n=function(n){var a=n.currentUser,r=n.loadedAuth,c=Object(h.a)(n,["currentUser","loadedAuth"]);return r?r&&!a?Object(v.jsx)(ie.a,{to:t}):Object(v.jsx)(e,Object(p.a)({currentUser:a,loadedAuth:r},c)):Object(v.jsx)(R,{loading:!0,className:"u-text-center"})};return n},xe=function(e){var t=e.name,n=e.errorMessage,a=e.setFieldValue,r=e.field,c=Object(s.useState)(),i=Object(N.a)(c,2),o=i[0],u=i[1],l=Object(s.useState)(),d=Object(N.a)(l,2),b=d[0],m=d[1],j=Object(s.useRef)(null);return Object(v.jsxs)("div",{style:{display:"flex",alignItems:"center",margin:"0 0 1rem 0"},children:[Object(v.jsx)("div",{children:o&&!n?Object(v.jsx)("img",{src:b,className:"form__img",alt:"avatar"}):Object(v.jsx)("span",{className:"form__img"})}),Object(v.jsx)("input",{hidden:!0,id:t,name:t,type:"file",onChange:function(e){e.preventDefault();var t=new FileReader,n=e.target.files[0];n&&(t.onloadend=function(){u(n),m(t.result)},t.readAsDataURL(n),a(r.name,n))},ref:j}),Object(v.jsx)("button",{type:"button",onClick:function(){j&&j.current.click()},className:"form__button",children:"Upload"}),n?Object(v.jsx)("span",{style:{marginLeft:"1rem",color:"#f00",fontWeight:"100",fontSize:"1.4rem"},children:n}):null]})},ye=n(49),_e=ce.b({photo:ce.a().test("fileSize","File too large",(function(e){return!e||e.size<=z.a})).test("fileFormat","Unsupported format",(function(e){return!e||z.d.includes(e.type)})),username:ce.d().trim().required("This field is required").min(6,"This field min 6 characters").max(15,"This field max 15 characters")}),we=function(e){var t=e.currentUser,n=e.updateUser,a=(t||{}).displayName,s=function(){var e=Object(c.a)(r.a.mark((function e(t,c){var s,i,o,u,l,d,b,m,j;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=c.setSubmitting,i=c.setFieldError,o=t.photo,u=t.username,o||a!==u){e.next=4;break}return e.abrupt("return");case 4:return s(!0),e.prev=5,e.next=8,n(t);case 8:(l=e.sent)?(d=l.split("-"),b=Object(N.a)(d,2),m=b[0],j=b[1],i(m,j)):ye.b.dark("\ud83e\udd84 Update profile successfully!",{position:ye.b.POSITION.TOP_RIGHT}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(5),console.error(e.t0.code),console.error(e.t0.message);case 16:return e.prev=16,s(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[5,12,16,19]])})));return function(t,n){return e.apply(this,arguments)}}();return Object(v.jsx)("div",{className:"profile",children:Object(v.jsxs)("div",{className:"form",children:[Object(v.jsx)("h2",{className:"heading-1",children:"MY PROFILE"}),Object(v.jsx)(re.c,{initialValues:{username:a||""},validationSchema:_e,onSubmit:s,children:function(e){var t=e.isSubmitting,n=e.errors,a=e.touched,r=e.setFieldValue;return Object(v.jsxs)(re.b,{className:"form__form",children:[Object(v.jsx)(re.a,{name:"photo",component:xe,setFieldValue:r,errorMessage:n.photo?n.photo:void 0,touched:a.photo}),Object(v.jsx)(se,{type:"text",name:"username",className:"form__input",placeholder:"Username"}),Object(v.jsxs)("button",{type:t?"button":"submit",className:"btn form__submit",children:[t&&Object(v.jsx)(A.a,{className:"icon icon--loading"}),"SAVE CHANGES"]})]})}})]})})};we.defaultProps={};var Ne=we,ke={oldPassword:"",newPassword:"",confirmNewPassword:"",error:""},Se=ce.b({oldPassword:ce.d().required("This field is required"),newPassword:ce.d().required("This field is required").min(6,"This field min 6 characters"),confirmNewPassword:ce.d().required("This field is required").when("newPassword",{is:function(e){return!!(e&&e.length>0)},then:ce.d().oneOf([ce.c("newPassword")],"Both password need to be the same")})}),Ee=function(e){var t=e.changePassword,n=function(){var e=Object(c.a)(r.a.mark((function e(n,a){var c,s,i,o,u,l,d,b,m,j;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=a.setSubmitting,s=a.setFieldError,i=a.resetForm,o=n.oldPassword,u=n.newPassword,c(!0),e.prev=3,e.next=6,t(o,u);case 6:(l=e.sent)?(d=l.split("-"),b=Object(N.a)(d,2),m=b[0],j=b[1],s(m,j)):(i(),ye.b.dark("\ud83e\udd84 Change password successfully!",{position:ye.b.POSITION.TOP_RIGHT})),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),console.error(e.t0.code),console.error(e.t0.message);case 14:return e.prev=14,c(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[3,10,14,17]])})));return function(t,n){return e.apply(this,arguments)}}();return Object(v.jsx)("div",{className:"profile",children:Object(v.jsxs)("div",{className:"form",children:[Object(v.jsx)("h2",{className:"heading-1",children:"CHANGE MY PASSWORD"}),Object(v.jsx)(re.c,{initialValues:ke,validationSchema:Se,onSubmit:n,children:function(e){var t=e.isSubmitting,n=e.errors;return Object(v.jsxs)(re.b,{className:"form__form",children:[Object(v.jsx)(se,{type:"password",name:"oldPassword",className:"form__input",placeholder:"Old password"}),Object(v.jsx)(se,{type:"password",name:"newPassword",className:"form__input",placeholder:"New Password"}),Object(v.jsx)(se,{type:"password",name:"confirmNewPassword",className:"form__input",placeholder:"New password confirmation"}),n.error&&Object(v.jsx)("span",{style:{fontSize:"1.4rem",fontWeight:"100",color:"#f00"},children:n.error}),Object(v.jsxs)("button",{type:t?"button":"submit",className:"btn form__submit",children:[t&&Object(v.jsx)(A.a,{className:"icon icon--loading"}),"SAVE CHANGES"]})]})}})]})})};Ee.defaultProps={};var Ue=Ee,Pe=function(e){var t=e.currentUser,n=e.updateUser,a=e.changePassword,r=Object(s.useState)(""),c=Object(N.a)(r,2),i=c[0],o=c[1],u=Object(s.useMemo)((function(){switch(i){case"":return Object(v.jsx)(Ne,{currentUser:t,updateUser:n});case"change-password":return Object(v.jsx)(Ue,{changePassword:a});default:return null}}),[i,t,n,a]);return Object(v.jsxs)("div",{className:"settings",children:[Object(v.jsx)("div",{className:"settings__tabs",children:z.c.map((function(e){var t,n=e.key,a=e.label;return Object(v.jsx)("span",{onClick:(t=n,function(){o(t)}),className:"settings__tab ".concat(i===n?"settings__tab--active":""),children:a},n)}))}),Object(v.jsx)("div",{className:"settings__content",children:u})]})};Pe.defaultProps={};var Re=ve(Pe)},70:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return i}));var a=n(33),r=n(3),c=n(94),s=function(e,t,n){var s=function(e,t){return e.map((function(e){var t=[];return{path:e,regexp:Object(c.b)(e,t),keys:t}})).find((function(e){return e.regexp.test(t)}))}(e,t);return{path:s?s.path:t,keys:s?function(e,t){var n=t.keys,c=t.regexp.exec(e);return n.reduce((function(e,t,n){return Object(r.a)(Object(r.a)({},e),{},Object(a.a)({},t.name,n+1<c.length?c[n+1]:""))}),{})}(t,s):[],options:n?function(e){return e.split("&").map((function(e){return e.split("=")})).filter((function(e){return 2===e.length&&""!==e[0]})).reduce((function(e,t){return Object(r.a)(Object(r.a)({},e),{},Object(a.a)({},t[0],t[1]))}),{})}(n):{}}},i=function(e){var t=e.path,n=e.keys,a=e.options,r=Object(c.a)(t,{encode:encodeURIComponent}),s=function(e){return Object.keys(e).map((function(t){return"".concat(t,"=").concat(e[t])})).join("&")}(a);return"".concat(r(n)).concat(""!==s.trim()?"?".concat(s):"")}},74:function(e,t,n){"use strict";n.d(t,"f",(function(){return p})),n.d(t,"g",(function(){return h})),n.d(t,"e",(function(){return g})),n.d(t,"a",(function(){return O})),n.d(t,"d",(function(){return v})),n.d(t,"h",(function(){return x})),n.d(t,"c",(function(){return y})),n.d(t,"i",(function(){return _})),n.d(t,"b",(function(){return w}));var a=n(3),r=n(33),c=n(7),s=n.n(c),i=n(14),o=n(106),u=n(69),l=n.n(u),d=(n(121),n(123),n(127),{apiKey:"AIzaSyAb531xDPpt8fMbqnrHRTn521bxx7rTezk",authDomain:"rawg-client.firebaseapp.com",databaseURL:"https://rawg-client.firebaseio.com",projectId:"rawg-client",storageBucket:"rawg-client.appspot.com",messagingSenderId:"350468735304",appId:"1:350468735304:web:d51ff41d2f0d0b5196f37d",measurementId:"G-PGYDM791MF"}),b=new function e(){Object(o.a)(this,e),l.a.initializeApp(d),this.EmailAuthProvider=l.a.auth.EmailAuthProvider,this.auth=l.a.auth(),this.db=l.a.firestore(),this.storage=l.a.storage()},m=n(5),j=function(e){return{type:m.n,payload:{username:e}}},f=function(e,t){return{type:m.l,payload:{id:e,liked:t}}},p=function(){var e=Object(i.a)(s.a.mark((function e(t,n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",b.auth.signInWithEmailAndPassword(t,n));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),h=function(e,t,n){return function(){var a=Object(i.a)(s.a.mark((function a(r){var c,i;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,b.auth.fetchSignInMethodsForEmail(e);case 2:if(!((c=a.sent)&&c.length>0)){a.next=5;break}return a.abrupt("return","email-The email address is already in use by another account.");case 5:return a.next=7,b.db.collection("users").doc(t).get();case 7:if(!a.sent.data()){a.next=10;break}return a.abrupt("return","username-The username is already in use by another account.");case 10:return a.next=12,b.auth.createUserWithEmailAndPassword(e,n);case 12:return i=a.sent,a.next=15,i.user.updateProfile({displayName:t}).then((function(){r(j(i.user.displayName)),b.db.collection("users").doc(i.user.displayName).set({uid:i.user.uid,displayName:i.user.displayName,photoURL:null}).catch(console.error)}));case 15:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},g=function(){var e=Object(i.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",b.auth.signOut());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){return function(e){return b.auth.onAuthStateChanged((function(t){if(t){var n={uid:t.uid,photoURL:t.photoURL,displayName:t.displayName};e(function(e){return{type:m.j,payload:{user:e}}}(n)),v(n.uid).then((function(t){return e((n=t.data(),{type:m.g,payload:{likes:n}}));var n})).catch(console.error)}else e({type:m.b})}))}},v=function(e){return b.db.collection("likes").doc(e).get()},x=function(e,t,n){return function(){var a=Object(i.a)(s.a.mark((function a(c){var i,o;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:(i=b.auth.currentUser)&&(o=i.uid,b.db.collection("likes").doc(o).set(Object(r.a)({},e,t),{merge:!0}).then((function(){c(f(e,t))})).catch(console.error).finally((function(){n(!1)})));case 2:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},y=function(e){return function(){var t=Object(i.a)(s.a.mark((function t(n){var a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:m.h}),t.next=4,b.db.collection("users").doc(e).get();case 4:a=t.sent,n((r=a.data(),{type:m.i,payload:{user:r}})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0);case 11:case"end":return t.stop()}var r}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},_=function(e){return function(){var t=Object(i.a)(s.a.mark((function t(n){var r,c,i,o,u,l,d,j,f,p;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=b.auth.currentUser){t.next=3;break}return t.abrupt("return");case 3:if(c=b.storage.ref(),i=e.photo,o=e.username,u=r.uid,l=r.displayName,d={displayName:o},t.prev=7,l===o){t.next=14;break}return t.next=11,b.db.collection("users").doc(o).get();case 11:if(!t.sent.data()){t.next=14;break}return t.abrupt("return","username-The username is already in use by another account.");case 14:if(!i){t.next=21;break}return t.next=17,c.child(u).put(i);case 17:return t.next=19,c.child(u).getDownloadURL();case 19:j=t.sent,d=Object(a.a)(Object(a.a)({},d),{},{photoURL:j});case 21:if(r.updateProfile(Object(a.a)({},d)),f=b.db.collection("users").doc(l),l!==o){t.next=27;break}f.update(Object(a.a)({},d)),t.next=32;break;case 27:return t.next=29,f.get();case 29:p=t.sent,f.delete(),b.db.collection("users").doc(o).set(Object(a.a)(Object(a.a)({},p.data()),d));case 32:n((s=d,{type:m.m,payload:{props:s}})),t.next=38;break;case 35:throw t.prev=35,t.t0=t.catch(7),t.t0;case 38:case"end":return t.stop()}var s}),t,null,[[7,35]])})));return function(e){return t.apply(this,arguments)}}()},w=function(e,t){return Object(i.a)(s.a.mark((function n(){var a,r,c;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=b.auth.currentUser){n.next=3;break}return n.abrupt("return");case 3:return n.prev=3,r=a.email,c=b.EmailAuthProvider.credential(r,e),n.next=8,a.reauthenticateWithCredential(c);case 8:if(!n.sent){n.next=12;break}return n.next=12,a.updatePassword(t);case 12:n.next=19;break;case 14:if(n.prev=14,n.t0=n.catch(3),"auth/wrong-password"!==n.t0.code){n.next=18;break}return n.abrupt("return","oldPassword-Wrong password");case 18:return n.abrupt("return","error-Something went wrong");case 19:case"end":return n.stop()}}),n,null,[[3,14]])})))}},75:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return i}));var a=n(6),r=n(5),c=n(70),s=function(e){return{type:r.a,payload:{route:e}}},i=function(e){return function(t){window.onpopstate=function(){var n=(window.location.hash?window.location.hash.slice(1):"").split("?"),r=Object(a.a)(n,2),i=r[0],o=r[1],u=Object(c.b)(e,i,o);t(s(u))};var n=(window.location.hash?window.location.hash.slice(1):"").split("?"),r=Object(a.a)(n,2),i=r[0],o=r[1],u=Object(c.b)(e,i,o);t(s(u))}}},8:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return r})),n.d(t,"h",(function(){return c})),n.d(t,"f",(function(){return s})),n.d(t,"g",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"i",(function(){return d}));var a="https://api.rawg.io/api",r="https://media.rawg.io/media/",c="https://media.rawg.io/media/resize/640/-/",s="https://media.rawg.io/media/resize/1280/-/",i={VIDEO:"https://media.rawg.io/media/crop/600/400/",NO_VIDEO:"https://media.rawg.io/media/resize/640/-/"},o="/",u="/games",l="/games/:slug",d="/@:username"},9:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"g",(function(){return r})),n.d(t,"f",(function(){return c})),n.d(t,"e",(function(){return s})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return u}));var a=[{key:"action",label:"Action",to:"action"},{key:"indie",label:"Indie",to:"indie"},{key:"adventure",label:"Adventure",to:"adventure"},{key:"role-playing-games-rpg",label:"RPG",to:"role-playing-games-rpg"},{key:"shooter",label:"Shooter",to:"shooter"},{key:"strategy",label:"Strategy",to:"strategy"},{key:"casual",label:"Casual",to:"casual"},{key:"simulation",label:"Simulation",to:"simulation"},{key:"arcade",label:"Arcade",to:"arcade"},{key:"puzzle",label:"Puzzle",to:"puzzle"},{key:"platformer",label:"Platformer",to:"platformer"},{key:"racing",label:"Racing",to:"racing"},{key:"sports",label:"Sports",to:"sports"},{key:"family",label:"Family",to:"family"},{key:"massively-multiplayer",label:"Massively Multiplayer",to:"massively-multiplayer"},{key:"fighting",label:"Fighting",to:"fighting"},{key:"board-games",label:"Board Games",to:"board-games"},{key:"educational",label:"Educational",to:"educational"},{key:"card",label:"Card",to:"card"}],r={tablet:768,laptop:992,desktop:1200,all:0},c=400,s=[{key:"",label:"Overview"},{key:"likes",label:"Likes"}],i=[{key:"",label:"Profile"},{key:"change-password",label:"Change password"}],o=163840,u=["image/jpg","image/jpeg","image/png"]},91:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return s}));var a=n(5),r=function(e){return{type:a.k,payload:{videoId:e}}},c=function(){return{type:a.c}},s=function(e){return{type:a.o,payload:{size:e}}}},97:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return s})),n.d(t,"g",(function(){return i})),n.d(t,"j",(function(){return o})),n.d(t,"k",(function(){return u})),n.d(t,"h",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"c",(function(){return b})),n.d(t,"i",(function(){return m}));var a=function(e){return e.games},r=function(e){var t=e.router.route.options,n=t.query,a=t.tag,r=t.genre;return n||a?"":r||"action"},c=function(e){return e.router.route.options.query},s=function(e){return e.router.route.keys.slug||""},i=function(e){return e.router.route.options.tag},o=function(e){return e.router.route.keys.username},u=function(e){return e.app.windowSize},l=function(e){return e.user},d=function(e){return e.user.likes},b=function(e){return!!e.user.currentUser},m=function(e){return e.profile}}},[[126,2,3]]]);
//# sourceMappingURL=main.e9a588a8.chunk.js.map